<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../src/scss/home.css">
  <title>Financial Apps</title>
</head>
<body>
  <div class="home">
    <div class="home__welcome">
      <p class="home__welcome-text">Welcome back,</p>
      <p class="home__welcome-text home__welcome-text_name">Joshua Hendrawan</p>
      <div class="home__welcome-line"></div>
    </div>
    <div class="home__balance">
      <p class="home__balance-title">My Balance</p>
      <div class="home__balance-box">
        <img class="home__balance-box-currencies-img" src="../../src/images/indonesia-icon.png">
        <p class="home__balance-box-currencies-value">Rp. 200.000.000,00</p>
      </div>
    </div>
    <div class="home__income">
      <p class="home__income-title">My Incomes</p>
      <iframe class="home__income-iframe" frameBorder ="0" src="../../src/components/income-table.html"></iframe>
    </div>
    <div class="home__expenses">
      <p class="home__income-title">My Expenses</p>
      <iframe class="home__income-iframe" frameBorder ="0" src="../../src/components/expenses-table.html"></iframe>
    </div>
  </div>
</body>

<script type="text/javascript" src="../../index.js"></script> 
<script type="text/javascript">

  function setUserInfo() {
    let name = globalUserInfo.name
    let nameElement = document.getElementsByClassName('home__welcome-text_name')[0]
    nameElement.innerHTML = name

    let balance = globalUserInfo.balance
    let elementBalance = document.getElementsByClassName('home__balance-box-currencies-value')[0]
    elementBalance.innerHTML = "Rp. "+balance
  }

  setUserInfo()

  function initialAnimation() {
    let lineElement = document.getElementsByClassName("home__welcome-line")[0]
    let textElement = document.getElementsByClassName("home__welcome-text")

    let balanceElement = document.getElementsByClassName("home__balance")[0]
    let incomeElemenet = document.getElementsByClassName("home__income")[0]
    let expensesElement = document.getElementsByClassName("home__expenses")[0]

    setTimeout(() => {
      setTimeout(() => {
        lineElement.style.width = "100%"
      },100)
      for(i = 0; i < textElement.length; i++) {
        textElement[i].style.opacity = 1
        textElement[i].style.top = "0px"
      }
    },100)

    setTimeout(() => {
      balanceElement.style.opacity = 1
      balanceElement.style.top = "0px"

      setTimeout(() => {
        incomeElemenet.style.opacity = 1
        incomeElemenet.style.top = "0px"

        setTimeout(() => {
          expensesElement.style.opacity = 1
          expensesElement.style.top = "0px"
        }, 500)
      }, 500)
    }, 1200)


  }

  function setIncomeData() {

  }

  initialAnimation()
  
</script>

</html>